<!DOCTYPE html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="css/product.css" />
        <script src="js/cart.js" defer></script>
        <link
            href="https://cdn.jsdelivr.net/npm/remixicon@4.3.0/fonts/remixicon.css"
            rel="stylesheet"
        />
        <title>Sản phẩm | Cyclefy</title>
    </head>
    <body>
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="nav__wrapper">
                    <div class="logo">
                        <img
                            class="logo-img"
                            src="assets/—Pngtree—green sprout leaf logo design_7431531.png"
                            alt="logo"
                        />
                        <h5>Cyclefy</h5>
                    </div>

                    <div class="navigation">
                        <div class="menu">
                            <a href="home.html" class="menu__item active__menu"
                                >Trang chủ</a
                            >
                            <a href="/about.html" class="menu__item"
                                >Giới thiệu</a
                            >
                            <a href="/news.html" class="menu__item">Tin tức</a>
                            <a href="categories.html" class="menu__item"
                                >Danh mục</a
                            >
                            <a href="product.html" class="menu__item"
                                >Sản phẩm</a
                            >
                            <a href="/cart.html" class="menu__item">Giỏ hàng</a>

                            <a href="/checkout.html" class="menu__item"
                                >Thanh toán</a
                            >
                            <a href="/faq.html" class="menu__item">FAQ</a>
                        </div>
                    </div>

                    <div class="nav__right">
                        <span class="cart__icon">
                            <i class="ri-shopping-cart-fill"></i>
                            <span class="cart__badge">1</span>
                        </span>
                        <span class="user">
                            <i class="ri-user-fill"></i>
                        </span>
                    </div>
                </div>
            </div>
        </header>

        <!-- Danh sách sản phẩm -->
        <section class="container" style="margin-top: 120px">
            <section class="product-filters">
                <div class="product-filters-left">
                    <input
                        type="text"
                        class="product-search-input"
                        placeholder="Tìm theo tên sản phẩm..."
                    />
                    <select class="product-select">
                        <option value="">Tất cả danh mục</option>
                        <option value="phan-bon">Phân bón hữu cơ</option>
                        <option value="hat-giong">Hạt giống</option>
                        <option value="dung-cu">Dụng cụ làm vườn</option>
                    </select>
                </div>
                <div class="product-filters-right">
                    <select class="product-select">
                        <option value="">Sắp xếp</option>
                        <option value="name_asc">Tên A → Z</option>
                        <option value="name_desc">Tên Z → A</option>
                    </select>
                </div>
            </section>

            <div class="product-grid">
                <div
                    class="product-card"
                    data-category="nhựa tái chế"
                    data-price="30000"
                >
                    <img
                        src="images/2-150x150.png"
                        alt="Sản phẩm 1"
                        width="150"
                    />
                    <h3>Thùng rác nhựa tái chế</h3>
                    <p class="price">30.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>

                <div
                    class="product-card"
                    data-category="nhựa tái chế"
                    data-price="25000"
                >
                    <img
                        src="images/30-150x150.png"
                        alt="Sản phẩm 2"
                        width="150"
                    />
                    <h3>Bàn nhựa tái chế</h3>
                    <p class="price">25.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>

                <div
                    class="product-card"
                    data-category="giấy tái chế"
                    data-price="40000"
                >
                    <img
                        src="images/IMG_5594-750x750.jpg"
                        alt="Sản phẩm 3"
                        width="150"
                    />
                    <h3>Kệ sách giấy</h3>
                    <p class="price">40.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>

                <div
                    class="product-card"
                    data-category="nhựa tái chế"
                    data-price="30000"
                >
                    <img
                        src="images/6-150x150.png"
                        alt="Sản phẩm 4"
                        width="150"
                    />
                    <h3>Chậu cây nhựa tái chế</h3>
                    <p class="price">30.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>

                <div
                    class="product-card"
                    data-category="nhựa tái chế"
                    data-price="25000"
                >
                    <img
                        src="images/38-150x150.png"
                        alt="Sản phẩm 5"
                        width="150"
                    />
                    <h3>Tủ giày nhựa tái chế</h3>
                    <p class="price">25.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>

                <div
                    class="product-card"
                    data-category="giấy tái chế"
                    data-price="40000"
                >
                    <img
                        src="images/16-150x150.png"
                        alt="Sản phẩm 6"
                        width="150"
                    />
                    <h3>Hộp giấy</h3>
                    <p class="price">40.000đ</p>
                    <button class="order__btn">Thêm vào giỏ</button>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer__logo">
                <h5>Về chúng tôi</h5>
                <p>
                    Lorem ipsum dolor sit amet consectetur adipisicing elit.
                    Nesciunt pariatur accusamus
                </p>
            </div>

            <div class="footer__col">
                <h5 class="footer__title">Thời gian hoạt động</h5>
                <div class="deliver__time-list">
                    <div class="delivery__time-item">
                        <span>Sunday - Thursday</span>
                        <p>8:00am - 5:00pm</p>
                    </div>
                    <div class="delivery__time-item">
                        <span>Friday - Saturday</span>
                        <p>8:00am - 2:00pm</p>
                    </div>
                </div>
            </div>

            <div class="footer__col">
                <h5 class="footer__title">Thông tin liên hệ</h5>
                <div class="deliver__time-list">
                    <div class="delivery__time-item">
                        <p>
                            địa chỉ 1: Khu phố 6, Phường Linh Trung, TP Thủ Đức
                            ,TP. Hồ Chí Minh
                        </p>
                    </div>
                    <div class="delivery__time-item">
                        <p>
                            địa chỉ 2: Khoa công nghệ thông tin, Đại Học Nông
                            Lâm TP.HCM.
                        </p>
                    </div>
                    <div class="delivery__time-item">
                        <span>Phone: 0123456789</span>
                    </div>
                    <div class="delivery__time-item">
                        <span>Email: example@gmail.com</span>
                    </div>
                </div>
            </div>

            <div class="footer__col">
                <h5 class="footer__title">Đăng ký</h5>
                <div class="delivery__time-item">
                    <p>Đăng ký để nhận thông tin mới nhất.</p>
                </div>
                <div class="newsletter">
                    <input type="email" placeholder="Nhập email của bạn" />
                    <span><i class="ri-send-plane-line"></i></span>
                </div>
            </div>
        </footer>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const categorySelect =
                    document.querySelectorAll(".filter-select")[0];
                const sortSelect =
                    document.querySelectorAll(".filter-select")[1];
                const filterBtn = document.querySelector(
                    ".filter-section .order__btn"
                );
                const grid = document.querySelector(".product-grid");
                const products = Array.from(
                    document.querySelectorAll(".product-card")
                );

                filterBtn.addEventListener("click", () => {
                    const category = categorySelect.value.toLowerCase();
                    const sort = sortSelect.value;

                    let filtered = [...products];

                    // Lọc theo loại
                    if (category !== "tất cả loại") {
                        filtered = filtered.filter(
                            (p) => p.dataset.category === category
                        );
                    }

                    // Sắp xếp
                    if (sort === "Giá tăng dần") {
                        filtered.sort(
                            (a, b) => a.dataset.price - b.dataset.price
                        );
                    } else if (sort === "Giá giảm dần") {
                        filtered.sort(
                            (a, b) => b.dataset.price - a.dataset.price
                        );
                    } else if (sort === "Tên A-Z") {
                        filtered.sort((a, b) =>
                            a
                                .querySelector("h3")
                                .innerText.localeCompare(
                                    b.querySelector("h3").innerText
                                )
                        );
                    }

                    // Cập nhật giao diện
                    grid.innerHTML = "";
                    filtered.forEach((p) => grid.appendChild(p));
                });
            });
        </script>

        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const addButtons = document.querySelectorAll(
                    ".product-card .order__btn"
                );

                addButtons.forEach((button) => {
                    button.addEventListener("click", () => {
                        const card = button.closest(".product-card");
                        const name = card.querySelector("h3").innerText;
                        const price = parseInt(card.dataset.price);
                        const image = card.querySelector("img").src;

                        // Lấy giỏ hàng hiện tại
                        let cart =
                            JSON.parse(localStorage.getItem("cart")) || [];

                        // Kiểm tra xem sản phẩm đã tồn tại chưa
                        const existing = cart.find(
                            (item) => item.name === name
                        );
                        if (existing) {
                            existing.quantity += 1;
                        } else {
                            cart.push({ name, price, image, quantity: 1 });
                        }

                        // Lưu lại vào localStorage
                        localStorage.setItem("cart", JSON.stringify(cart));
                        alert("✅ Đã thêm sản phẩm vào giỏ hàng!");
                    });
                });
            });
        </script>

        <script>
            (function () {
                const header = document.querySelector(".header");
                const onScroll = () => {
                    if (window.scrollY > 80)
                        header.classList.add("header__shrink");
                    else header.classList.remove("header__shrink");
                };
                window.addEventListener("scroll", onScroll);
                onScroll();
            })();
        </script>
    </body>
</html>
